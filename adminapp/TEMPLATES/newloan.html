{% extends "master.html" %}
{% load static %}
{% block content %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
<link href="https://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.min.css" rel="stylesheet">
<script src="https://code.jquery.com/ui/1.10.2/jquery-ui.min.js"></script>
<div class="container-fluid" style="padding-top: 50px;">
  <div class="row">
     
     <div class="col-lg-12">
        <div class="iq-card">
           <div class="iq-card-header d-flex justify-content-between">
              <div class="iq-header-title">
                 <h4 class="card-title">Customer Details</h4>
              </div>
           </div>
           <div class="iq-card-body">
              <div class="new-user-info">
                 <form>
                    <div class="row">
                       <div class="form-group col-md-12">
                          <label for="mobno">Loan Date</label>
                          <input type="date" class="form-control" id="mobno" placeholder="dd-mm-yy">
                       </div>
                       <div class="form-group col-md-6">
                          <label for="lname">Customer Id :</label>
                          <input type="text" class="form-control" id="cid" placeholder="Customer Id">
                       </div>
                       <div class="form-group col-md-6">
                          <label for="lname">Customer Name:</label>
                          <input type="text" class="form-control" id="fname" placeholder="Customer Name">
                       </div>                                    
                       <div class="form-group col-md-6">
                          <label for="add1">Address :</label>
                          <input type="text" class="form-control" id="address" placeholder="Street Address 1">
                       </div>                                    
                       <div class="form-group col-md-6">
                          <label for="cname">City:</label>
                          <input type="text" class="form-control" id="city" placeholder="City Name">
                       </div>
                       <div class="form-group col-md-4">
                          <label for="cname">State:</label>
                          <input type="text" class="form-control" id="state" placeholder="State">
                       </div>
                       <div class="form-group col-md-4">
                        <label for="cname">Country:</label>
                        <input type="text" class="form-control" id="country" placeholder="State">
                     </div>
                       <!-- <div class="form-group col-sm-4">
                          <label>Country:</label>
                          <select class="form-control" id="selectcountry">
                             <option>Select Country</option>
                             <option>India</option>
                             <option>England</option>
                             <option >USA</option>
                             <option>Canada</option>
                             <option>Africa</option>
                          </select>
                       </div> -->
                       <div class="form-group col-md-4">
                          <label for="cname">Pincode:</label>
                          <input type="text" class="form-control" id="pincode" placeholder="Area Code">
                       </div>
                    </div>
                 </form>
              </div>
           </div>
        </div>
     </div>
     <div class="col-lg-8">
        <div class="iq-card">
           <div class="iq-card-body">
              <table class="table table-bordered table-responsive-md table-striped text-center dataTable" id="table">
                 <thead>
                    <tr>
                      <th>Item Name</th>
                      <th>Qty</th>
                      <th>Gross Wt</th>
                      <th>Net Wt</th>
                      <th>Purity</th>
                      <th>Value</th>
                      <th>Remarks</th>
                      <th><a href="#" onclick = addRow() class="btn iq-bg-success btn-rounded btn-sm my-0"><i class="fa fa-plus"></i></a></th>
                    </tr>
                    <tr>
                      <td><input type="text" class="form-control" id="cname" placeholder=""></td>
                      <td><input type="text" class="form-control" id="cname" placeholder=""></td>
                      <td><input type="text" class="form-control" id="cname" placeholder=""></td>
                      <td><input type="text" class="form-control" id="cname" placeholder=""></td>
                      <td><input type="text" class="form-control" id="cname" placeholder=""></td>
                      <td><input type="text" class="form-control" id="cname" placeholder=""></td>
                      <td><input type="text" class="form-control" id="cname" placeholder=""></td>
                      <td><a href="#" class="btn iq-bg-success btn-rounded btn-sm my-0"><i class="fa fa-trash"></i></a></td>
                    </tr>
                 </thead>
              </table>
           </div>
        </div>
     </div>
     <div class="col-lg-4">
        <div class="iq-card">
           <div class="iq-card-header d-flex justify-content-between">
              <div class="iq-header-title">
                 <h4 class="card-title">Loan Details</h4>
              </div>
           </div>
           <div class="iq-card-body">
              <form>                              
                 <div class="form-group">
                    <label for="lname">Loan Amount :</label>
                    <input type="text" class="form-control" id="lname" placeholder="">
                 </div>
                 <div class="form-group">
                    <label for="lname">Interest Rate :</label>
                    <input type="text" class="form-control" id="lname" placeholder="">
                 </div>
                 <div class="form-group">
                    <label for="lname">Advance Paid :</label>
                    <input type="text" class="form-control" id="lname" placeholder="">
                 </div>
                 <div class="form-group">
                    <label for="lname">Processing Fee :</label>
                    <input type="text" class="form-control" id="lname" placeholder="">
                 </div>
                 <div class="form-group">
                    <label for="lname">No.of Installments :</label>
                    <input type="text" class="form-control" id="lname" placeholder="">
                 </div>
                 <div class="form-group">
                    <label for="lname">Net Payable :</label>
                    <input type="text" class="form-control" id="lname" placeholder="">
                 </div>
                 <div class="form-group">
                    <label for="lname">Maturing Date :</label>
                    <input type="text" class="form-control" id="lname" placeholder="">
                 </div>
                 <div class="form-group">
                    <label for="lname">Payment Mode :</label>
                    <input type="text" class="form-control" id="lname" placeholder="">
                 </div>
              </form>
           </div>
        </div>
     </div>
     <div class="col-lg-4"></div>
     <div class="col-lg-4">
        <div class="form-group">
          <button type="button" class="btn btn-primary btn-block">Create</button>
        </div>
     </div>
     <div class="col-lg-4"></div>
  </div>
</div>
<script>
  function addRow() {
    var table = document.getElementById("table");
    
  var row = table.insertRow(2);
  var cell1 = row.insertCell(0);
  cell1.setAttribute('contentEditable', 'true');
  var cell2 = row.insertCell(1);
  cell2.setAttribute('contentEditable', 'true');
  var cell3 = row.insertCell(2);
  cell3.setAttribute('contentEditable', 'true');
  var cell4 = row.insertCell(3);
  cell4.setAttribute('contentEditable', 'true');
  var cell5 = row.insertCell(4);
  cell5.setAttribute('contentEditable', 'true');
  var cell6 = row.insertCell(5);
  cell6.setAttribute('contentEditable', 'true');
  var cell7 = row.insertCell(6);
  cell7.setAttribute('contentEditable', 'true');
  var cell8 = row.insertCell(7);
  var element1 = document.createElement("input");  
  element1.type = "button";  
  var btnName = "button" + (rowCount + 1);  
  element1.name = btnName;  
  element1.setAttribute('value', 'Delete'); // or element1.value = "button";  
  element1.onclick = function () { removeRow(btnName); }  
  cell8.appendChild(element1);  
           

}
$(function () {
  
    $("#fname").autocomplete({ 
      source: '/adminapp/suggestname/',
      minLength: 2,
      
    });
  });

  $('#fname').change(function(){
        
        $.ajaxSetup({
  headers: { "X-CSRFToken": '{{csrf_token}}' }
});
        $.ajax({
            url:'/adminapp/getcustomerdetail/',
            type:'POST',
            data:{
                fname:$('#fname').val(),
                
            },
            success: function(response){   
                $('#cid').val(response.user[0].id)
                $('#address').val(response.user[0].address)
                $('#city').val(response.user[0].city)
                $('#state').val(response.user[0].state)
                $('#country').val(response.user[0].country)
                $('#pincode').val(response.user[0].pincode)
               
            }
        })
    }
    )
</script>


{% endblock %}